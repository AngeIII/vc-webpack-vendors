(window["vcvWebpackJsonp4x"] = window["vcvWebpackJsonp4x"] || []).push([["wpbackendswitch"],{

/***/ "./builder/public/backendSwitch.js":
/*!*****************************************!*\
  !*** ./builder/public/backendSwitch.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sources_less_wpbackend_switcher_init_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sources/less/wpbackend-switcher/init.less */ \"./builder/public/sources/less/wpbackend-switcher/init.less\");\n/* harmony import */ var _sources_less_wpbackend_switcher_init_less__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_sources_less_wpbackend_switcher_init_less__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./variables */ \"./builder/public/variables.js\");\n/* harmony import */ var _components_backendSwitcher_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/backendSwitcher/index */ \"./builder/public/components/backendSwitcher/index.js\");\n\n\n\n\n(function ($) {\n  // jQuery.ready\n  $(function () {\n    Object(_components_backendSwitcher_index__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n  });\n})(window.jQuery);\n\n//# sourceURL=webpack:///./builder/public/backendSwitch.js?");

/***/ }),

/***/ "./builder/public/components/backendSwitcher/index.js":
/*!************************************************************!*\
  !*** ./builder/public/components/backendSwitcher/index.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_frontendClassicSwitcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/frontendClassicSwitcher */ \"./builder/public/components/backendSwitcher/lib/frontendClassicSwitcher.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var titleDiv = document.querySelector('div#titlediv');\n  var gutenbergEditor = document.getElementById('editor');\n  var switcherContainer = document.createElement('div');\n  switcherContainer.className = 'vcv-wpbackend-switcher-container';\n  var render = false;\n\n  var renderSwitcher = function renderSwitcher(switcherContainer) {\n    react_dom__WEBPACK_IMPORTED_MODULE_0___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_lib_frontendClassicSwitcher__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      isGutenbergEditor: !!gutenbergEditor\n    }), switcherContainer);\n  };\n\n  if (titleDiv) {\n    titleDiv.parentNode.insertBefore(switcherContainer, titleDiv.nextSibling);\n    render = true;\n  } else if (gutenbergEditor) {\n    var isWpml = window.VCV_WPML ? window.VCV_WPML() : false;\n    var timeout = isWpml ? 2500 : 1;\n    window.wp.data.subscribe(function () {\n      setTimeout(function () {\n        var gutenbergEditorHeader = gutenbergEditor ? gutenbergEditor.querySelector('.edit-post-header-toolbar') : null;\n\n        if (gutenbergEditorHeader && !gutenbergEditorHeader.querySelector('.vcv-wpbackend-switcher-container')) {\n          gutenbergEditorHeader.querySelector('.edit-post-header-toolbar__left').after(switcherContainer);\n          renderSwitcher(switcherContainer);\n        }\n      }, timeout);\n    });\n  } else {\n    var postBodyContent = document.getElementById('post-body-content');\n\n    if (postBodyContent) {\n      if (postBodyContent.firstChild) {\n        postBodyContent.insertBefore(switcherContainer, postBodyContent.firstChild);\n      } else {\n        postBodyContent.appendChild(switcherContainer);\n      }\n\n      render = true;\n    }\n  }\n\n  if (render) {\n    renderSwitcher(switcherContainer);\n  }\n});\n\n//# sourceURL=webpack:///./builder/public/components/backendSwitcher/index.js?");

/***/ }),

/***/ "./builder/public/components/backendSwitcher/lib/frontendClassicSwitcher.js":
/*!**********************************************************************************!*\
  !*** ./builder/public/components/backendSwitcher/lib/frontendClassicSwitcher.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FrontendClassicSwitcher; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\nvar FrontendClassicSwitcher = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(FrontendClassicSwitcher, _React$Component);\n\n  var _super = _createSuper(FrontendClassicSwitcher);\n\n  function FrontendClassicSwitcher(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, FrontendClassicSwitcher);\n\n    _this = _super.call(this, props);\n    var gutenberg = window.VCV_GUTENBERG && window.VCV_GUTENBERG();\n    _this.handleClickEnableClassicEditor = _this.handleClickEnableClassicEditor.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));\n    _this.handleClickOpenFrontendEditor = _this.handleClickOpenFrontendEditor.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));\n\n    if (gutenberg) {\n      _this.handleClickEnableGutenbergEditor = _this.handleClickEnableGutenbergEditor.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));\n    }\n\n    var beEditorInput = document.getElementById('vcv-be-editor');\n    var url = window.location.href;\n\n    if (url.indexOf('classic-editor') !== -1) {\n      beEditorInput.value = 'classic';\n    }\n\n    var editor = beEditorInput.value;\n\n    if (beEditorInput && ['classic', 'gutenberg'].indexOf(editor) === -1 || editor === 'gutenberg' && !gutenberg) {\n      editor = 'be';\n\n      _this.hideClassicEditor();\n    }\n\n    _this.state = {\n      editor: editor\n    };\n    _this.wpb = typeof window.vc !== 'undefined';\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FrontendClassicSwitcher, [{\n    key: \"handleClickEnableClassicEditor\",\n    value: function handleClickEnableClassicEditor(e) {\n      e.preventDefault();\n      var editor = 'classic';\n      var localizations = window.VCV_I18N && window.VCV_I18N();\n      var confirmMessage = localizations && localizations.enableClassicEditorConfirmMessage ? localizations.enableClassicEditorConfirmMessage : 'Visual Composer will overwrite your content created in WordPress Classic editor with the latest version of content created in Visual Composer Website Builder. Do you want to continue?';\n\n      if (window.confirm(confirmMessage)) {\n        this.setState({\n          editor: editor\n        });\n        this.showClassicEditor();\n      }\n    }\n  }, {\n    key: \"handleClickEnableGutenbergEditor\",\n    value: function handleClickEnableGutenbergEditor(e) {\n      e.preventDefault();\n      var editor = 'gutenberg';\n      var localizations = window.VCV_I18N && window.VCV_I18N();\n      var confirmMessage = localizations && localizations.enableGutenbergEditorConfirmMessage ? localizations.enableGutenbergEditorConfirmMessage : 'Gutenberg will overwrite your content created in Visual Composer Website Builder. Do you want to continue?';\n\n      if (window.confirm(confirmMessage)) {\n        this.setState({\n          editor: editor\n        });\n        var url = window.location.href;\n        url += (url.match(/[?]/g) ? '&' : '?') + 'vcv-set-editor=gutenberg';\n        window.location = url;\n      }\n    }\n  }, {\n    key: \"handleClickOpenFrontendEditor\",\n    value: function handleClickOpenFrontendEditor(e) {\n      e.preventDefault();\n      var localizations = window.VCV_I18N && window.VCV_I18N();\n      var confirmMessage = localizations && localizations.openFrontendEditorFromClassic ? localizations.openFrontendEditorFromClassic : 'Visual Composer will overwrite your content created in WordPress Classic editor with the latest version of content created in Visual Composer Website Builder. Do you want to continue?';\n\n      if (this.state.editor === 'be' || window.confirm(confirmMessage)) {\n        window.location.href = e.currentTarget.dataset.href;\n      }\n    }\n  }, {\n    key: \"hideClassicEditor\",\n    value: function hideClassicEditor() {\n      if (document.getElementById('postdivrich') !== null) {\n        document.getElementById('postdivrich').classList.add('vcv-hidden');\n      }\n    }\n  }, {\n    key: \"showClassicEditor\",\n    value: function showClassicEditor() {\n      var url = window.location.href;\n\n      if (url.indexOf('?') > -1) {\n        url += '&classic-editor=1';\n      } else {\n        url += '?classic-editor=1';\n      }\n\n      window.location.href = url;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var localizations = window.VCV_I18N && window.VCV_I18N();\n      var buttonClassictext = localizations && localizations.classicEditor ? localizations.classicEditor : 'Classic Editor';\n      var buttonGutenbergtext = localizations && localizations.gutenbergEditor ? localizations.gutenbergEditor : 'Gutenberg Editor';\n      var editor = this.state.editor;\n      var gutenberg = window.VCV_GUTENBERG && window.VCV_GUTENBERG();\n\n      if (this.state.editor === 'be' && this.wpb === true) {\n        this.showClassicEditor();\n      }\n\n      var gutenbergButton = null;\n\n      if (!this.props.isGutenbergEditor && gutenberg && editor !== 'gutenberg') {\n        gutenbergButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n          className: \"vcv-wpbackend-switcher--type-gutenberg\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"button\", {\n          className: \"vcv-wpbackend-switcher-option\",\n          onClick: this.handleClickEnableGutenbergEditor\n        }, buttonGutenbergtext));\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"vcv-wpbackend-switcher-wrapper\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"vcv-wpbackend-switcher\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"button\", {\n        className: \"vcv-wpbackend-switcher-option vcv-wpbackend-switcher-option--vceditor\",\n        \"data-href\": window.vcvFrontendEditorLink,\n        onClick: this.handleClickOpenFrontendEditor\n      })), editor !== 'classic' && this.wpb === false && !gutenberg && !this.props.isGutenbergEditor ? function () {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n          className: \"vcv-wpbackend-switcher--type-classic\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"button\", {\n          className: \"vcv-wpbackend-switcher-option\",\n          onClick: _this2.handleClickEnableClassicEditor\n        }, buttonClassictext));\n      }() : '', gutenbergButton);\n    }\n  }]);\n\n  return FrontendClassicSwitcher;\n}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);\n\n\n\n//# sourceURL=webpack:///./builder/public/components/backendSwitcher/lib/frontendClassicSwitcher.js?");

/***/ }),

/***/ "./builder/public/sources/less/wpbackend-switcher/init.less":
/*!******************************************************************!*\
  !*** ./builder/public/sources/less/wpbackend-switcher/init.less ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./builder/public/sources/less/wpbackend-switcher/init.less?");

/***/ }),

/***/ "./builder/public/variables.js":
/*!*************************************!*\
  !*** ./builder/public/variables.js ***!
  \*************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var vc_cake__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vc-cake */ \"./node_modules/vc-cake/index.js\");\n/* harmony import */ var vc_cake__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vc_cake__WEBPACK_IMPORTED_MODULE_0__);\n// MODIFY ONLY in env.php and env-dev.php!\n\n\nif (typeof window.VCV_ENV !== 'undefined') {\n  var envs = window.VCV_ENV();\n  Object.keys(envs).forEach(function (key) {\n    Object(vc_cake__WEBPACK_IMPORTED_MODULE_0__[\"env\"])(key, envs[key]);\n  });\n\n  if (envs.VCV_DEBUG) {\n    Object(vc_cake__WEBPACK_IMPORTED_MODULE_0__[\"env\"])('debug', true);\n  }\n}\n\n//# sourceURL=webpack:///./builder/public/variables.js?");

/***/ })

},[["./builder/public/backendSwitch.js","runtime","vendor"]]]);